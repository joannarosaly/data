{"paragraphs":[{"config":{"colWidth":12,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}},"enabled":true,"editorMode":"ace/mode/scala"},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1485481132081_1796166048","id":"20170126-203852_949630075","dateCreated":"2017-01-26T20:38:52-0500","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:2399","text":"import org.apache.spark.streaming._\nimport org.apache.spark.streaming.twitter._\nimport org.apache.spark.storage.StorageLevel\nimport scala.io.Source\nimport scala.collection.mutable.HashMap\nimport java.io.File\nimport org.apache.log4j.Logger\nimport org.apache.log4j.Level\nimport sys.process.stringSeqToProcess","dateUpdated":"2017-01-26T20:39:05-0500","dateFinished":"2017-01-26T20:39:26-0500","dateStarted":"2017-01-26T20:39:05-0500","result":{"code":"SUCCESS","type":"TEXT","msg":"\nimport org.apache.spark.streaming._\n\nimport org.apache.spark.streaming.twitter._\n\nimport org.apache.spark.storage.StorageLevel\n\nimport scala.io.Source\n\nimport scala.collection.mutable.HashMap\n\nimport java.io.File\n\nimport org.apache.log4j.Logger\n\nimport org.apache.log4j.Level\n\nimport sys.process.stringSeqToProcess\n"},"focus":true},{"config":{"colWidth":12,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}},"enabled":true},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1485481145898_-378819484","id":"20170126-203905_1385464295","dateCreated":"2017-01-26T20:39:05-0500","status":"FINISHED","progressUpdateIntervalMs":500,"focus":true,"$$hashKey":"object:2561","dateUpdated":"2017-01-26T20:39:28-0500","dateFinished":"2017-01-26T20:39:31-0500","dateStarted":"2017-01-26T20:39:28-0500","result":{"code":"SUCCESS","type":"TEXT","msg":"\nconfigureTwitterCredentials: (apiKey: String, apiSecret: String, accessToken: String, accessTokenSecret: String)Unit\n"},"text":"/** Configures the Oauth Credentials for accessing Twitter */\ndef configureTwitterCredentials(apiKey: String, apiSecret: String, accessToken: String, accessTokenSecret: String) {\n  val configs = new HashMap[String, String] ++= Seq(\n    \"apiKey\" -> apiKey, \"apiSecret\" -> apiSecret, \"accessToken\" -> accessToken, \"accessTokenSecret\" -> accessTokenSecret)\n  println(\"Configuring Twitter OAuth\")\n  configs.foreach{ case(key, value) =>\n    if (value.trim.isEmpty) {\n      throw new Exception(\"Error setting authentication - value for \" + key + \" not set\")\n    }\n    val fullKey = \"twitter4j.oauth.\" + key.replace(\"api\", \"consumer\")\n    System.setProperty(fullKey, value.trim)\n    println(\"\\tProperty \" + fullKey + \" set as [\" + value.trim + \"]\")\n  }\n  println()\n}"},{"config":{"colWidth":12,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}},"enabled":true},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1485481168690_-1924709917","id":"20170126-203928_1245096558","dateCreated":"2017-01-26T20:39:28-0500","status":"FINISHED","progressUpdateIntervalMs":500,"focus":true,"$$hashKey":"object:2650","dateUpdated":"2017-01-26T20:40:58-0500","dateFinished":"2017-01-26T20:41:01-0500","dateStarted":"2017-01-26T20:40:58-0500","result":{"code":"SUCCESS","type":"TEXT","msg":"\napiKey: String = bLXY4r0UzTqrmthbDm0md3Zkd\n\napiSecret: String = MP13tycZZnTgrORvTNfYVgSEMygQrIxDKu8zjjLH1xGnnJMu71\n\naccessToken: String = 2254153902-Upm6MWs4ouIQ1z9N3p5IYWYa9PsbrDijou97NGs\n\naccessTokenSecret: String = Hnwc5PzXiMogl99wuDMGG2v6adpu7NiIe1THiNWIm812a\nConfiguring Twitter OAuth\n\tProperty twitter4j.oauth.consumerKey set as [bLXY4r0UzTqrmthbDm0md3Zkd]\n\tProperty twitter4j.oauth.accessToken set as [2254153902-Upm6MWs4ouIQ1z9N3p5IYWYa9PsbrDijou97NGs]\n\tProperty twitter4j.oauth.consumerSecret set as [MP13tycZZnTgrORvTNfYVgSEMygQrIxDKu8zjjLH1xGnnJMu71]\n\tProperty twitter4j.oauth.accessTokenSecret set as [Hnwc5PzXiMogl99wuDMGG2v6adpu7NiIe1THiNWIm812a]\n\n"},"text":"// Configure Twitter credentials\nval apiKey = \"bLXY4r0UzTqrmthbDm0md3Zkd\"\nval apiSecret = \"MP13tycZZnTgrORvTNfYVgSEMygQrIxDKu8zjjLH1xGnnJMu71\"\nval accessToken = \"2254153902-Upm6MWs4ouIQ1z9N3p5IYWYa9PsbrDijou97NGs\"\nval accessTokenSecret = \"Hnwc5PzXiMogl99wuDMGG2v6adpu7NiIe1THiNWIm812a\"\nconfigureTwitterCredentials(apiKey, apiSecret, accessToken, accessTokenSecret)"},{"config":{"colWidth":12,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}},"enabled":true},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1485481258720_-96662267","id":"20170126-204058_670717453","dateCreated":"2017-01-26T20:40:58-0500","status":"FINISHED","progressUpdateIntervalMs":500,"focus":true,"$$hashKey":"object:2735","dateUpdated":"2017-01-26T20:41:15-0500","dateFinished":"2017-01-26T20:41:17-0500","dateStarted":"2017-01-26T20:41:15-0500","result":{"code":"SUCCESS","type":"TEXT","msg":"\nimport org.apache.spark.streaming.twitter._\n\nssc: org.apache.spark.streaming.StreamingContext = org.apache.spark.streaming.StreamingContext@14e2b34\n\ntweets: org.apache.spark.streaming.dstream.ReceiverInputDStream[twitter4j.Status] = org.apache.spark.streaming.twitter.TwitterInputDStream@407be6ce\n\ntwt: org.apache.spark.streaming.dstream.DStream[twitter4j.Status] = org.apache.spark.streaming.dstream.WindowedDStream@3af7f891\n"},"text":"import org.apache.spark.streaming.twitter._\nval ssc = new StreamingContext(sc, Seconds(2))\nval tweets = TwitterUtils.createStream(ssc, None)\nval twt = tweets.window(Seconds(60))\n"},{"config":{"colWidth":12,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}},"enabled":true},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1485481275494_-776498250","id":"20170126-204115_2026925137","dateCreated":"2017-01-26T20:41:15-0500","status":"FINISHED","progressUpdateIntervalMs":500,"focus":true,"$$hashKey":"object:2820","dateUpdated":"2017-01-26T20:41:34-0500","dateFinished":"2017-01-26T20:41:38-0500","dateStarted":"2017-01-26T20:41:34-0500","result":{"code":"SUCCESS","type":"TEXT","msg":"\ndefined class Tweet\n\nwarning: there was one deprecation warning; re-run with -deprecation for details\n"},"text":"case class Tweet(createdAt:Long, text:String)\ntwt.map(status=>\n  Tweet(status.getCreatedAt().getTime()/1000, status.getText())\n).foreachRDD(rdd=>\n  // Below line works only in spark 1.3.0.\n  // For spark 1.1.x and spark 1.2.x,\n  // use rdd.registerTempTable(\"tweets\") instead.\n  rdd.toDF().registerTempTable(\"tweets\")\n)\n\ntwt.print\n\nssc.start()"},{"config":{"colWidth":12,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[{"name":"createdAt","index":0,"aggr":"sum"}],"values":[{"name":"text","index":1,"aggr":"sum"}],"groups":[],"scatter":{"xAxis":{"name":"createdAt","index":0,"aggr":"sum"},"yAxis":{"name":"text","index":1,"aggr":"sum"}}},"enabled":true,"editorMode":"ace/mode/sql"},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1485481294447_2097221933","id":"20170126-204134_1968557673","dateCreated":"2017-01-26T20:41:34-0500","status":"FINISHED","progressUpdateIntervalMs":500,"focus":true,"$$hashKey":"object:2908","dateUpdated":"2017-01-26T20:43:00-0500","dateFinished":"2017-01-26T20:43:01-0500","dateStarted":"2017-01-26T20:43:00-0500","result":{"code":"SUCCESS","type":"TABLE","msg":"createdAt\ttext\n1485481375\t@dumptrump33 Well he's definitely not getting a tip.\n","comment":"","msgTable":[[{"key":"text","value":"1485481375"},{"key":"text","value":"@dumptrump33 Well he's definitely not getting a tip."}]],"columnNames":[{"name":"createdAt","index":0,"aggr":"sum"},{"name":"text","index":1,"aggr":"sum"}],"rows":[["1485481375","@dumptrump33 Well he's definitely not getting a tip."]]},"text":"%sql select * from tweets where text like '%trump%' limit 10"},{"config":{"colWidth":12,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}},"enabled":true},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1485481326418_204888925","id":"20170126-204206_780517187","dateCreated":"2017-01-26T20:42:06-0500","status":"FINISHED","progressUpdateIntervalMs":500,"focus":true,"$$hashKey":"object:2990","dateUpdated":"2017-01-26T20:43:16-0500","dateFinished":"2017-01-26T20:43:21-0500","dateStarted":"2017-01-26T20:43:16-0500","result":{"code":"SUCCESS","type":"TABLE","msg":"createdAt\tcount(1)\n1485481335\t2\n1485481336\t48\n1485481337\t46\n1485481338\t42\n1485481339\t48\n1485481340\t47\n1485481341\t52\n1485481342\t46\n1485481343\t44\n1485481344\t36\n1485481345\t34\n1485481346\t44\n1485481347\t30\n1485481348\t46\n1485481349\t40\n1485481350\t54\n1485481351\t56\n1485481352\t35\n1485481353\t43\n1485481354\t52\n1485481355\t39\n1485481356\t44\n1485481357\t34\n1485481358\t43\n1485481359\t51\n1485481360\t36\n1485481361\t39\n1485481362\t40\n1485481363\t38\n1485481364\t38\n1485481365\t61\n1485481366\t42\n1485481367\t29\n1485481368\t31\n1485481369\t40\n1485481370\t42\n1485481371\t30\n1485481372\t42\n1485481373\t43\n1485481374\t49\n1485481375\t47\n1485481376\t38\n1485481377\t36\n1485481378\t43\n1485481379\t41\n1485481380\t45\n1485481381\t47\n1485481382\t45\n1485481383\t46\n1485481384\t27\n1485481385\t42\n1485481386\t40\n1485481387\t42\n1485481388\t41\n1485481389\t53\n1485481390\t65\n1485481391\t50\n1485481392\t42\n1485481393\t46\n1485481394\t46\n1485481395\t36\n","comment":"","msgTable":[[{"key":"count(1)","value":"1485481335"},{"key":"count(1)","value":"2"}],[{"value":"1485481336"},{"value":"48"}],[{"value":"1485481337"},{"value":"46"}],[{"value":"1485481338"},{"value":"42"}],[{"value":"1485481339"},{"value":"48"}],[{"value":"1485481340"},{"value":"47"}],[{"value":"1485481341"},{"value":"52"}],[{"value":"1485481342"},{"value":"46"}],[{"value":"1485481343"},{"value":"44"}],[{"value":"1485481344"},{"value":"36"}],[{"value":"1485481345"},{"value":"34"}],[{"value":"1485481346"},{"value":"44"}],[{"value":"1485481347"},{"value":"30"}],[{"value":"1485481348"},{"value":"46"}],[{"value":"1485481349"},{"value":"40"}],[{"value":"1485481350"},{"value":"54"}],[{"value":"1485481351"},{"value":"56"}],[{"value":"1485481352"},{"value":"35"}],[{"value":"1485481353"},{"value":"43"}],[{"value":"1485481354"},{"value":"52"}],[{"value":"1485481355"},{"value":"39"}],[{"value":"1485481356"},{"value":"44"}],[{"value":"1485481357"},{"value":"34"}],[{"value":"1485481358"},{"value":"43"}],[{"value":"1485481359"},{"value":"51"}],[{"value":"1485481360"},{"value":"36"}],[{"value":"1485481361"},{"value":"39"}],[{"value":"1485481362"},{"value":"40"}],[{"value":"1485481363"},{"value":"38"}],[{"value":"1485481364"},{"value":"38"}],[{"value":"1485481365"},{"value":"61"}],[{"value":"1485481366"},{"value":"42"}],[{"value":"1485481367"},{"value":"29"}],[{"value":"1485481368"},{"value":"31"}],[{"value":"1485481369"},{"value":"40"}],[{"value":"1485481370"},{"value":"42"}],[{"value":"1485481371"},{"value":"30"}],[{"value":"1485481372"},{"value":"42"}],[{"value":"1485481373"},{"value":"43"}],[{"value":"1485481374"},{"value":"49"}],[{"value":"1485481375"},{"value":"47"}],[{"value":"1485481376"},{"value":"38"}],[{"value":"1485481377"},{"value":"36"}],[{"value":"1485481378"},{"value":"43"}],[{"value":"1485481379"},{"value":"41"}],[{"value":"1485481380"},{"value":"45"}],[{"value":"1485481381"},{"value":"47"}],[{"value":"1485481382"},{"value":"45"}],[{"value":"1485481383"},{"value":"46"}],[{"value":"1485481384"},{"value":"27"}],[{"value":"1485481385"},{"value":"42"}],[{"value":"1485481386"},{"value":"40"}],[{"value":"1485481387"},{"value":"42"}],[{"value":"1485481388"},{"value":"41"}],[{"value":"1485481389"},{"value":"53"}],[{"value":"1485481390"},{"value":"65"}],[{"value":"1485481391"},{"value":"50"}],[{"value":"1485481392"},{"value":"42"}],[{"value":"1485481393"},{"value":"46"}],[{"value":"1485481394"},{"value":"46"}],[{"value":"1485481395"},{"value":"36"}]],"columnNames":[{"name":"createdAt","index":0,"aggr":"sum"},{"name":"count(1)","index":1,"aggr":"sum"}],"rows":[["1485481335","2"],["1485481336","48"],["1485481337","46"],["1485481338","42"],["1485481339","48"],["1485481340","47"],["1485481341","52"],["1485481342","46"],["1485481343","44"],["1485481344","36"],["1485481345","34"],["1485481346","44"],["1485481347","30"],["1485481348","46"],["1485481349","40"],["1485481350","54"],["1485481351","56"],["1485481352","35"],["1485481353","43"],["1485481354","52"],["1485481355","39"],["1485481356","44"],["1485481357","34"],["1485481358","43"],["1485481359","51"],["1485481360","36"],["1485481361","39"],["1485481362","40"],["1485481363","38"],["1485481364","38"],["1485481365","61"],["1485481366","42"],["1485481367","29"],["1485481368","31"],["1485481369","40"],["1485481370","42"],["1485481371","30"],["1485481372","42"],["1485481373","43"],["1485481374","49"],["1485481375","47"],["1485481376","38"],["1485481377","36"],["1485481378","43"],["1485481379","41"],["1485481380","45"],["1485481381","47"],["1485481382","45"],["1485481383","46"],["1485481384","27"],["1485481385","42"],["1485481386","40"],["1485481387","42"],["1485481388","41"],["1485481389","53"],["1485481390","65"],["1485481391","50"],["1485481392","42"],["1485481393","46"],["1485481394","46"],["1485481395","36"]]},"text":"%sql select createdAt, count(1) from tweets group by createdAt order by createdAt"},{"config":{"colWidth":12,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}},"enabled":true},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1485481396416_539928596","id":"20170126-204316_538730689","dateCreated":"2017-01-26T20:43:16-0500","status":"FINISHED","progressUpdateIntervalMs":500,"focus":true,"$$hashKey":"object:3204","dateUpdated":"2017-01-26T20:43:35-0500","dateFinished":"2017-01-26T20:43:37-0500","dateStarted":"2017-01-26T20:43:35-0500","result":{"code":"SUCCESS","type":"TEXT","msg":"\nsentiment: (s: String)String\n\nres11: org.apache.spark.sql.expressions.UserDefinedFunction = UserDefinedFunction(<function1>,StringType,Some(List(StringType)))\n"},"text":"def sentiment(s:String) : String = {\n    val positive = Array(\"like\", \"love\", \"good\", \"great\", \"happy\", \"cool\", \"the\", \"one\", \"that\")\n    val negative = Array(\"hate\", \"bad\", \"stupid\", \"is\")\n\n    var st = 0;\n\n    val words = s.split(\" \")    \n    positive.foreach(p =>\n        words.foreach(w =>\n            if(p==w) st = st+1\n        )\n    )\n\n    negative.foreach(p=>\n        words.foreach(w=>\n            if(p==w) st = st-1\n        )\n    )\n    if(st>0)\n        \"positivie\"\n    else if(st<0)\n        \"negative\"\n    else\n        \"neutral\"\n}\n\n// Below line works only in spark 1.3.0.\n// For spark 1.1.x and spark 1.2.x,\n// use sqlc.registerFunction(\"sentiment\", sentiment _) instead.\nsqlc.udf.register(\"sentiment\", sentiment _)"},{"config":{"colWidth":12,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[{"name":"UDF(text)","index":0,"aggr":"sum"}],"values":[{"name":"count(1)","index":1,"aggr":"sum"}],"groups":[],"scatter":{"xAxis":{"name":"UDF(text)","index":0,"aggr":"sum"},"yAxis":{"name":"count(1)","index":1,"aggr":"sum"}}},"enabled":true},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1485481415630_-783207547","id":"20170126-204335_436266579","dateCreated":"2017-01-26T20:43:35-0500","status":"FINISHED","progressUpdateIntervalMs":500,"focus":true,"$$hashKey":"object:3292","dateUpdated":"2017-01-26T20:43:53-0500","dateFinished":"2017-01-26T20:43:56-0500","dateStarted":"2017-01-26T20:43:53-0500","result":{"code":"SUCCESS","type":"TABLE","msg":"UDF(text)\tcount(1)\nneutral\t3\n","comment":"","msgTable":[[{"key":"count(1)","value":"neutral"},{"key":"count(1)","value":"3"}]],"columnNames":[{"name":"UDF(text)","index":0,"aggr":"sum"},{"name":"count(1)","index":1,"aggr":"sum"}],"rows":[["neutral","3"]]},"text":"%sql select sentiment(text), count(1) from tweets where text like '%trump%' group by sentiment(text)"},{"config":{"colWidth":12,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}},"enabled":true},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1485481433765_-2088260492","id":"20170126-204353_1651067496","dateCreated":"2017-01-26T20:43:53-0500","status":"READY","progressUpdateIntervalMs":500,"focus":true,"$$hashKey":"object:3374"}],"name":"Twitter","id":"2C76JTTJA","angularObjects":{"2C9M86V3Z:shared_process":[],"2C85NJZK7:shared_process":[],"2C8GJNKVB:shared_process":[],"2C9CACQ31:shared_process":[],"2C6KJFEHP:shared_process":[],"2C8SK6VDR:shared_process":[],"2C75R65GR:shared_process":[],"2C8UU5261:shared_process":[],"2C9QHJR8F:shared_process":[],"2C6Z4KJQH:shared_process":[],"2C7N8FTXR:shared_process":[],"2C8XKHPSZ:shared_process":[],"2C8EYATPE:shared_process":[],"2C78Z812F:shared_process":[],"2C6ZFZ3AV:shared_process":[],"2C8497N3U:2C76JTTJA":[],"2C8CMMQ7W:shared_process":[],"2C9J1MM8Q:shared_process":[]},"config":{"looknfeel":"default"},"info":{}}